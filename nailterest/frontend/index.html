<!doctype html>
<html>
<head>
	<title>Nailterest</title>
	<script>
	
	// Make a web request to get all users in the system
	fetch('http://localhost:8081/get_users')
	.then((response) => response.json())
    	.then(function(data){

		var users = data.users;
		
		var node = document.getElementById("my_users");
		// Iterate over each link
		for (var index = 0; index < users.length; index++){		
			console.log(users[index]);	
			// For each user, add a link and a name that is clickable
			var link = document.createElement("a");
			link.href = "http://localhost:8080/profile.html?username=" + users[index];
			var link_text = document.createTextNode(users[index]); 	
			link.appendChild(link_text);
			var main_node = document.createElement("P");
			main_node.appendChild(link);

			// Add the link and text under a new paragraph within the main div.
			node.appendChild(main_node);
		}
	})
	.catch(function(error) {
		console.log('Request failed:', error.message);
	});
	
    </script>
</head>

<body style="background-color: #add8e6; font-family:'Courier New', Courier, monospace; color:green">

	<div id = "header" style = "display : flex; justify-content : space-evenly">
		<a href="/index.html">
		Home
		</a>

		<a href="/create_user.html">
		Create
		</a>

		<a href="/add.html">
		Add
		</a>

                <a href="/info.html">
		Info
                </a>
	</div>

	<center>
        <h1>
		Nailterest Users :)
        </h1>
	<div id="my_users">

	</div>
	
    </center>
</body>
</html>
